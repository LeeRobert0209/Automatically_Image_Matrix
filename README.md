# ImageMatrix (影像矩阵) 🧩

> **一站式桌面图像处理工作台**  
> *拼接 · 切割 · 合并 · 压缩*

**ImageMatrix** 是一款专为 **UI/UX 设计师**、**电商运营**和**内容创作者**打造的高效生产力工具。它基于 Python & PyQt6 开发，体积轻巧，功能强大，能够完美解决日常工作中繁琐的图片处理需求。

---

## ✨ 核心功能亮点

### 1. 🖼️ 智能拼图 (Merge)
**场景**：制作电商详情页、微信公众号长图、设计稿展示。
*   **无缝拼接**：支持 **垂直 (Vertical)**、**水平 (Horizontal)** 和 **宫格 (Grid)** 三种模式。
*   **智能分组**：可将超长图自动分割为多张（例如每 5000px 一张），防止图片过大无法上传。
*   **多格式导出**：
    *   **JPG/PNG**：通用图片格式。
    *   **PDF**：直接生成长图 PDF 文档。
*   **尺寸预设**：内置 **750px (移动端)**、**1080px (桌面端)** 及自定义宽度选项。

### 2. ✂️ 智能切图 (Slice)
**场景**：将设计稿切分上传、朋友圈九宫格、Instagram 网格图。
*   **全能切分**：覆盖 **水平**、**垂直** 和 **宫格** 切分需求。
*   **🧠 内容感知吸附 (Smart Snap)**：独创算法，切图线会自动**避开文字行、产品主体**，防止“切坏”关键内容。
*   **像素级预览**：宫格模式下，鼠标悬停切分线即可放大预览，精准把控每一个像素。
*   **独立导出**：支持将每一张切片单独导出为 PDF 或图片。

### 3. 📑 多图合并 (Combine) [NEW]
**场景**：整理 Figma 导出图、合并扫描件、制作作品集 PDF、报告汇总。
*   **🔄 混合合并 (PDF + Image)**：**强大的兼容性！** 支持将 **JPG、PNG 图片**与 **现有的 PDF 文件**混合拖入。程序会自动提取 PDF 中的所有页面，与图片合并成一个新的 PDF。
*   **🔢 智能自然排序**：完美识别文件名中的数字逻辑（如 `Slide-1, Slide-2... Slide-10`），告别传统排序的 `1, 10, 2` 乱序烦恼。
    *   提供 **名称 (A-Z)** 和 **大小** 一键排序按钮。
*   **👀 悬停预览**：忘记文件名对应哪张图？**鼠标悬停列表 2秒**，即刻浮现缩略图，无需频繁打开文件查看。
*   **📉 智能压缩控制**：
    *   内置 **5档** 智能压缩滑块，在画质与体积间取得完美平衡。
    *   **档位说明**：原画 (无限制) / 1MB / 5MB / 10MB / 20MB / 50MB (单页限制)。

---

## 🚀 快速开始

### 📥 启动程序
无需安装复杂环境，直接双击根目录下的启动脚本：
> `启动ImageMatrix工具.bat`

### ⚙️ 环境配置 (可选)
如果启动失败（通常是因为 Python 路径问题），请按以下步骤操作：
1.  找到根目录下的 `config.ini` 文件。
2.  右键选择“记事本”打开。
3.  将 `python_path=` 修改为您电脑上 `python.exe` 的实际路径。
    *   *示例：`python_path=C:\Program Files\Python39\python.exe`*

---

## 🎮 使用指南

| 功能模块 | 操作步骤简述 |
| :--- | :--- |
| **拼图 (Merge)** | 拖入图片 → 选择模式 (垂直/水平) → 设置宽度 → **开始拼接** |
| **切图 (Slice)** | 拖入图片 → 选择模式 (智能吸附) → 设置份数 → **开始切图** |
| **合图 (Combine)** | 拖入图片/PDF → 智能排序/拖拽调整 → 设置单页大小限制 → **开始合并** |

---

## 🛠️ 开发与贡献

如果您是开发者，欢迎参与改进：

**依赖安装**:
```bash
pip install -r requirements.txt
```
*(主要依赖: PyQt6, Pillow)*

**目录结构**:
*   `main.py`: 主程序入口 & UI 逻辑
*   `merger.py`: PDF 合并与压缩核心逻辑
*   `stitcher.py`: 拼图算法
*   `slicer.py`: 切图与智能吸附算法
*   `utils.py`: 通用工具函数

---
*Created with ❤️ by ImageMatrix Team*
